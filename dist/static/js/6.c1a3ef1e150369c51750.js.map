{"version":3,"sources":["webpack:///src/views/sonBindCa/Index.vue","webpack:///./src/views/sonBindCa/Index.vue?613d","webpack:///./src/views/sonBindCa/Index.vue"],"names":["Index","name","components","inputItem","complexInputItem","data","cabind_error","caL_errMsg","bindCaUpdata","picCode","phoneVcode","ind","username","fsecond","ftimer","fsd","clientHeight","src","disabledBtn","time","timer","err","errMsg","reviewUrl","formValidate","cardNo","vcode","phone","phoneCode","applyOrg","bindingOrg","serialNum","express","interest","ruleValidate","required","message","trigger","validator","validate","validateIdCard","validatePhone","computed","extends_default","Object","vuex_esm","methods","mathRandow","s","i","substr","Math","floor","random","join","handleRefreshCode","document","getElementById","this","getNumCode","test","clearInterval","setInterval","bind","getPCodeBindCa","mobile","then","res","success","fiveCountd","$router","push","insCustom","objks","object","getSerial","_this","getRandom","console","log","serRandom","content","updata","getcert","getCertBsf","stringify_default","getSerials","retRes","generalName","handleSubmit","_this2","$refs","valid","param","scode","verifPicCode","code","validatePhoneCa","setAttribute","errmsg","length","check","type","bindCa","removeAttribute","style","display","setHeight","documentElement","fheight","getElementsByTagName","mounted","that","window","onresize","sonBindCa_Index","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","ref","model","rules","label-width","classNow","class","_v","_e","staticStyle","margin-top","labelVal","label","prop","plh","placeholder","value","callback","$$v","$set","expression","width","height","on","click","directives","rawName","disabled","_s","visibility","margin-left","$event","bindCas","border-top","padding","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.c1a3ef1e150369c51750.js","sourcesContent":["<template>\n<div class=\"main--fluid centers\">\n\n    <div class=\"main\" id=\"fpw\" :style=\"'height:'+ clientHeight \">\n      <!-- 表单 -->\n       <Form ref='formValidate' :model='formValidate' :rules='ruleValidate' :label-width='245'>\n         <table class=\"ititle\">\n           <thead>\n             <th  class=\"nowC comC\" :class=\"classNow\" v-if=\"ind==1? classNow='nowC': classNow='passC'\"><div>1</div><span>手机验证</span></th>\n             <th  class=\"defaultC comC\"  v-if=\"ind==2? classNow='nowC': classNow='passC'\" id=\"twoth\"><div>2</div><span>CA绑定</span></th>\n             <th  class=\"defaultC comC\"  v-if=\"ind==3? classNow='nowC': classNow='passC'\" id=\"threeth\"><div>3</div><span>完成</span></th>\n           </thead>\n         </table>\n       <div style=\"margin-top:30px;\" >\n         <div v-if=\"ind==1\">\n          <inputItem\n            :labelVal='{label:\"手机号\"}'\n            :model='formValidate'\n            prop='phone'\n            ref='phone'\n            plh = '请输入您的手机号'\n          />\n           <!--<inputItem-->\n            <!--:labelVal='{label:\"身份证号\",tip:\"请输入绑定的身份证号码\"}'-->\n            <!--:model='formValidate'-->\n            <!--prop='cardNo'-->\n          <!--/>-->\n\n         <!-- 图片验证码 -->\n         <div class='verificationCode publicInput'>\n           <FormItem label='验证码：' prop='vcode' class='formItem'>\n             <div class='NumCode inputvcode'>\n               <Input class=\"fleft\" type='text' v-model='formValidate.vcode' :placeholder=\"picCode\"/>\n               <img @click=\"handleRefreshCode\" width=\"80\" height=\"30\" :src=\"'/dws/pub/vcode/img'\" class=\"from_codes\" id=\"verify\"/>\n             </div>\n           </FormItem>\n         </div>\n         <!-- 图片验证码 end-->\n\n          <!-- 手机验证码 -->\n          <div class='verificationCode publicInput'>\n            <FormItem label='短信验证码：' prop='phoneCode' class='formItem'>\n              <div class='NumCode'>\n                <Input type='text' v-model='formValidate.phoneCode' :placeholder=\"phoneVcode\"/>\n                <Button disabled v-show='disabledBtn'>{{time}}s后可重新获取</Button>\n                <Button @click='getNumCode' v-show='!disabledBtn'>获取验证码</Button>\n              </div>\n              <label class='rightTip text-center'>请于2分钟内查收手机短信，并填写短信中的验证码</label>\n            </FormItem>\n          </div>\n          <!-- 手机验证码 end-->\n         </div>\n          <!-- passwork -->\n         <div v-if=\"ind==2\" class=\"modal3\">\n\n           <Form ref=\"formValidates\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"90\" id=\"caBindf\" class=\"hmid cont\">\n             <FormItem label=\"账号\" prop=\"name\">\n               <Input v-model=\"formValidate.name\"></Input>\n             </FormItem>\n             <FormItem label=\"报名企业\" prop=\"applyOrg\">\n               <Input v-model=\"formValidate.applyOrg\"></Input>\n             </FormItem>\n             <FormItem label=\"绑定企业\" prop=\"bindingOrg\">\n               <Input v-model=\"formValidate.bindingOrg\"></Input>\n             </FormItem>\n             <FormItem label=\"证书序列号\" prop=\"serialNum\">\n               <Input v-model=\"formValidate.serialNum\"></Input>\n               <div class=\"xlh\" @click=\"getSerial\">获取序列号</div>\n             </FormItem>\n\n             <FormItem label=\"通用名校验\" prop=\"interest\">\n               <CheckboxGroup v-model=\"formValidate.interest\" >\n                 <Checkbox label=\"（校验企业/机构名称与绑定企业是否一致）\"></Checkbox>\n               </CheckboxGroup>\n             </FormItem>\n             <FormItem label=\"有效期\" prop=\"express\">\n               <Input v-model=\"formValidate.express\"></Input>\n             </FormItem>\n             <FormItem>\n               <div style=\"visibility: visible\"><p class='errRemind'>{{cabind_error}}</p></div>\n               <Button type=\"primary\" @click=\"bindCas('formValidates')\" style=\"width: 150px;margin-left: 60px\">保存</Button>\n             </FormItem>\n             <div style=\"border-top: 1px solid #e9eaec;\" >\n               <div style=\"padding: 12px 18px 12px 18px;\">{{caL_errMsg}}</div>\n             </div>\n\n           </Form>\n\n         </div>\n          <!-- passwork end-->\n         <div v-if=\"ind==3\">\n           <div class=\"congr\">恭喜您！密码设置成功，请重新登录！</div>\n           <div class=\"relogin\">系统将在<span class=\"textred\">{{fsecond}}</span><span>秒后自动调整至登录页面，您可以选择直接登陆</span> <router-link class=\"pull-right relot\" to=\"/login\">返回登录</router-link></div>\n\n         </div>\n        </div>\n      </Form>\n      <!-- 表单 end-->\n      <!-- sub -->\n      <div class=\"registerWrap w1198\">\n      <!-- tip -->\n      <p class='errRemind'>{{errMsg}}</p>\n      <!-- tip end-->\n       <Button v-if=\"ind==1 || ind==2\" type='primary' class='registerBtn' @click='handleSubmit(\"formValidate\")'>下一步</Button>\n      </div>\n      <!-- sub end-->\n    </div>\n\n</div>\n</template>\n\n<script>\n// import Steps from \"../../components/NewPasswordSteps\";\n\nimport { mapActions, mapState } from 'vuex'\nimport inputItem from '../../components/complexInputItem'\nimport validatejs from '../../assets/js/validate'\nimport getcert from '../../assets/js/getcert'\n\nexport default {\n  name: 'NewPassword',\n  components: {\n    inputItem\n    // Steps\n  },\n  data: function() {\n    return {\n      cabind_error: '',\n      caL_errMsg: '首次登录时，请下载并安装\"CA证书客户端\"，仅支持IE浏览器。',\n      bindCaUpdata: '',\n      picCode: '请输入图文验证码',\n      phoneVcode: '请输入短信验证码',\n      ind: 1,\n      username: 0,\n      fsecond: 5,\n      ftimer: null,\n      fsd: true,\n      clientHeight: '500',\n      src: '',\n      disabledBtn: false,\n      time: 180,\n      timer: null,\n      err: false,\n      errMsg: '',\n      reviewUrl: '', // 存放预览图片\n      formValidate: {\n        cardNo: '',\n        vcode: '',\n        phone: '',\n        phoneCode: '',\n        name: '',\n        applyOrg: '',\n        bindingOrg: '',\n        serialNum: '',\n        express: '',\n        interest: ['（校验企业/机构名称与绑定企业是否一致）']\n      },\n      ruleValidate: {\n        cardNo: [\n          { required: true, message: '身份证号码不能为空', trigger: 'blur' },\n          { validator: validatejs.validateIdCard, trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '手机号码不能为空', trigger: 'blur' },\n          { validator: validatejs.validatePhone, trigger: 'blur' }\n        ],\n        vcode: [\n          { required: true, message: '图片验证码不能为空', trigger: 'blur' }\n        ],\n        phoneCode: [\n          { required: true, message: '验证码不能为空', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n\n  computed: {\n    ...mapState(['app', 'qcode']),\n  },\n\n  methods: {\n    ...mapActions(['getPCodeBindCa', 'getqcode', 'resetpwd', 'validatePhoneCa', 'verifPicCode']),\n    mathRandow() {\n      var s = [];\n      var hexDigits = \"0123456789abcdef\";\n      for (var i = 0; i < 36; i++) {\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n      }\n      s[14] = \"4\";\n      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n      s[8] = s[13] = s[18] = s[23] = \"-\";\n      var uuid = s.join(\"\");\n      return uuid;\n    },\n    //图片验证码\n    handleRefreshCode() {\n      document.getElementById(\"verify\").src = \"/dws/pub/vcode/img?sessionKey =\"+ this.mathRandow()\n    },\n    /*\n    * 倒计时\n    * */\n    getNumCode: function() {\n      let phoneReg = /(^1[3|4|5|7|8]\\d{9}$)|(^09\\d{8}$)/\n      if (phoneReg.test(this.formValidate.phone)) {\n        this.disabledBtn = !this.disabledBtn\n        this.time = 120\n        clearInterval(this.timer)\n        this.timer = null\n        if (this.disabledBtn) {\n          this.timer = setInterval(\n            function() {\n              this.time--\n              if (this.time === 0) {\n                this.disabledBtn = !this.disabledBtn\n                this.time = 120\n                clearInterval(this.timer)\n              }\n            }.bind(this),\n            1000\n          )\n        }\n        // 获得验证码\n        this.getPCodeBindCa({\n          mobile: this.formValidate.phone\n        }).then(res => {\n          if (res.success) {\n            // this.formValidate.uuid = res.content.uuid;\n          }\n        })\n      } else {\n        return false\n      }\n    },\n    fiveCountd: function(){\n      this.fsecond = 5\n      clearInterval(this.ftimer)\n      this.ftimer = null\n      if(this.fsd){\n        this.ftimer = setInterval(function(){\n          this.fsecond--\n          if(this.fsecond==0){\n            clearInterval(this.ftimer);\n            this.$router.push('/login')\n          }\n        }.bind(this),1000)\n      }\n\n    },\n    /*检查是否安装客户端*/\n    insCustom() {\n      var objks = document.getElementById(\"obj\");\n      if (objks == null || objks.object == null){\n        this.cabind_error = \"您未使用新版证书或未正确安装证书驱动\";\n        return false;\n      } else {\n        this.cabind_error = \"\";\n      }\n    },\n    /*获取序列号*/\n    getSerial() {\n      this.insCustom()\n      this.getRandom().then(res => {/*获取随机数*/\n        console.log(res)\n        this.serRandom = res.content\n        let updata = getcert.getCertBsf(this.serRandom)\n        console.log(\"1\"+JSON.stringify(updata))\n        if(updata){\n          this.getSerials(updata).then(/*获取序列号*/\n            res => {\n              if (res.success) {\n                console.log(\"2\"+JSON.stringify(res.content))\n                let retRes = res.content\n                this.formValidate.bindingOrg = retRes.generalName,\n                this.formValidate.serialNum = retRes.serialNum,\n                this.formValidate.express = retRes.express\n                updata.applyOrg = this.formValidate.applyOrg\n                updata.bindingOrg = this.formValidate.bindingOrg\n                updata.serialNum = this.formValidate.serialNum\n                updata.express = this.formValidate.express\n                updata.username = this.formValidate.name\n\n                this.bindCaUpdata = updata\n              }\n            }\n          )\n\n        }\n      })\n    },\n\n    /*\n    * 注册提交\n    * */\n    handleSubmit: function(name) {\n      this.$refs[name].validate(valid => {\n        // 判断是否通过本地验证\n        if (!valid) return\n        if(this.ind==1){/*第一步提交*/\n          let param = {\n            mobile: this.formValidate.phone,\n            scode: this.formValidate.phoneCode // 请在之前调用发送短信验证码的接口向用户发送短信验证码,\n          }\n          this.ind=2\n\n          this.verifPicCode({code:this.formValidate.vcode}).then(res => {\n            if(res.success){\n\n              this.validatePhoneCa(param).then(res => {\n                if (res.success) {\n                  // 成功提醒\n                  this.ind=2\n                  this.username = res.content;\n                  document.getElementById(\"twoth\").setAttribute(\"class\",\"comC nowC\");\n                  this.errMsg = ''\n                } else {\n                  // 失败提醒\n                  this.errMsg = res.errmsg\n                  this.handleRefreshCode()\n                }\n              })\n\n            }else {\n              this.errMsg = res.errmsg\n            }\n          })\n\n        }else if(this.ind==2){\n\n          this.$refs['formValidates'].validate(valid => {\n            // 判断是否通过本地验证\n            if (!valid) return\n            if(this.formValidate.interest.length>0){\n              this.bindCaUpdata.check = 1\n            }else{\n              this.bindCaUpdata.check = 2\n            }\n            this.bindCaUpdata.type = 'login'\n            //alert(JSON.stringify(this.bindCaUpdata))\n            this.bindCa(this.bindCaUpdata).then(\n              res => {\n                console.log(JSON.stringify(res))\n                if(res.success){\n                  document.getElementById(\"caBindNext\").removeAttribute(\"class\",\"dispnone\");\n                  document.getElementById(\"caBindNext\").setAttribute(\"class\",\"hmid cont\");\n                  document.getElementById(\"caBindf\").style.display = \"none\"\n                  document.getElementById(\"calerrordiv\").style.display = \"none\"\n                  this.fiveCountd(1)\n                }\n              },\n              res => {\n                this.cabind_error = res.errmsg\n              }\n            )\n          })\n\n          // let param = {\n          //   username: this.username,\n          //   userpwd: this.formValidate.password,\n          //   userpwd2: this.formValidate.confirmPwd // 请在之前调用发送短信验证码的接口向用户发送短信验证码,\n          // }\n          // this.resetpwd(param).then(res => {\n          //   if (res.success) {\n          //     this.ind=3\n          //     this.fiveCountd()\n          //     document.getElementById(\"twoth\").setAttribute(\"class\",\"comC passC\");\n          //     document.getElementById(\"threeth\").setAttribute (\"class\",\"comC nowC\");\n          //     // 成功提醒\n          //     this.errMsg = ''\n          //   } else {\n          //     // 失败提醒\n          //     this.errMsg = res.errmsg\n          //   }\n          // })\n        }\n      })\n    },\n    /*\n    * 高度设置\n    * */\n    setHeight: function () {\n      let clih = document.documentElement.clientHeight;\n      if(clih<=768){\n        this.clientHeight = '498px'\n      }else{\n        let fheight = document.getElementsByTagName(\"footer\")[0].clientHeight\n        console.log(\"footer height is: \"+fheight)\n        this.clientHeight = `${document.documentElement.clientHeight-fheight-91-30}px`;\n      }\n    }\n  },\n\n  mounted() {\n    this.handleRefreshCode()\n    this.setHeight()\n    const that = this\n    window.onresize = function temp() {\n      that.setHeight()\n    }\n  }\n}\n</script>\n<style lang=\"scss\" src=\"../NewPassword/NewPassword.scss\" type=\"text/css\"></style>\n<style lang=\"scss\" src=\"../Register/Register.scss\" type=\"text/css\"></style>\n<style lang=\"scss\" scoped>\n  .xlh{\n    width: 150px;background-color: #2d8cf0;color: #fff;text-align: center;position: relative;margin: -35px 0 0 300px;border-radius: 3px;cursor: pointer\n  }\n  .cont{width: 570px;margin: 0 auto}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/sonBindCa/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main--fluid centers\"},[_c('div',{staticClass:\"main\",style:('height:'+ _vm.clientHeight),attrs:{\"id\":\"fpw\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":245}},[_c('table',{staticClass:\"ititle\"},[_c('thead',[(_vm.ind==1? _vm.classNow='nowC': _vm.classNow='passC')?_c('th',{staticClass:\"nowC comC\",class:_vm.classNow},[_c('div',[_vm._v(\"1\")]),_c('span',[_vm._v(\"手机验证\")])]):_vm._e(),_vm._v(\" \"),(_vm.ind==2? _vm.classNow='nowC': _vm.classNow='passC')?_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"twoth\"}},[_c('div',[_vm._v(\"2\")]),_c('span',[_vm._v(\"CA绑定\")])]):_vm._e(),_vm._v(\" \"),(_vm.ind==3? _vm.classNow='nowC': _vm.classNow='passC')?_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"threeth\"}},[_c('div',[_vm._v(\"3\")]),_c('span',[_vm._v(\"完成\")])]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"30px\"}},[(_vm.ind==1)?_c('div',[_c('inputItem',{ref:\"phone\",attrs:{\"labelVal\":{label:\"手机号\"},\"model\":_vm.formValidate,\"prop\":\"phone\",\"plh\":\"请输入您的手机号\"}}),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"验证码：\",\"prop\":\"vcode\"}},[_c('div',{staticClass:\"NumCode inputvcode\"},[_c('Input',{staticClass:\"fleft\",attrs:{\"type\":\"text\",\"placeholder\":_vm.picCode},model:{value:(_vm.formValidate.vcode),callback:function ($$v) {_vm.$set(_vm.formValidate, \"vcode\", $$v)},expression:\"formValidate.vcode\"}}),_vm._v(\" \"),_c('img',{staticClass:\"from_codes\",attrs:{\"width\":\"80\",\"height\":\"30\",\"src\":'/dws/pub/vcode/img',\"id\":\"verify\"},on:{\"click\":_vm.handleRefreshCode}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"短信验证码：\",\"prop\":\"phoneCode\"}},[_c('div',{staticClass:\"NumCode\"},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.phoneVcode},model:{value:(_vm.formValidate.phoneCode),callback:function ($$v) {_vm.$set(_vm.formValidate, \"phoneCode\", $$v)},expression:\"formValidate.phoneCode\"}}),_vm._v(\" \"),_c('Button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.disabledBtn),expression:\"disabledBtn\"}],attrs:{\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.time)+\"s后可重新获取\")]),_vm._v(\" \"),_c('Button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabledBtn),expression:\"!disabledBtn\"}],on:{\"click\":_vm.getNumCode}},[_vm._v(\"获取验证码\")])],1),_vm._v(\" \"),_c('label',{staticClass:\"rightTip text-center\"},[_vm._v(\"请于2分钟内查收手机短信，并填写短信中的验证码\")])])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.ind==2)?_c('div',{staticClass:\"modal3\"},[_c('Form',{ref:\"formValidates\",staticClass:\"hmid cont\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":90,\"id\":\"caBindf\"}},[_c('FormItem',{attrs:{\"label\":\"账号\",\"prop\":\"name\"}},[_c('Input',{model:{value:(_vm.formValidate.name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"name\", $$v)},expression:\"formValidate.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"报名企业\",\"prop\":\"applyOrg\"}},[_c('Input',{model:{value:(_vm.formValidate.applyOrg),callback:function ($$v) {_vm.$set(_vm.formValidate, \"applyOrg\", $$v)},expression:\"formValidate.applyOrg\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"绑定企业\",\"prop\":\"bindingOrg\"}},[_c('Input',{model:{value:(_vm.formValidate.bindingOrg),callback:function ($$v) {_vm.$set(_vm.formValidate, \"bindingOrg\", $$v)},expression:\"formValidate.bindingOrg\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"证书序列号\",\"prop\":\"serialNum\"}},[_c('Input',{model:{value:(_vm.formValidate.serialNum),callback:function ($$v) {_vm.$set(_vm.formValidate, \"serialNum\", $$v)},expression:\"formValidate.serialNum\"}}),_vm._v(\" \"),_c('div',{staticClass:\"xlh\",on:{\"click\":_vm.getSerial}},[_vm._v(\"获取序列号\")])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"通用名校验\",\"prop\":\"interest\"}},[_c('CheckboxGroup',{model:{value:(_vm.formValidate.interest),callback:function ($$v) {_vm.$set(_vm.formValidate, \"interest\", $$v)},expression:\"formValidate.interest\"}},[_c('Checkbox',{attrs:{\"label\":\"（校验企业/机构名称与绑定企业是否一致）\"}})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"有效期\",\"prop\":\"express\"}},[_c('Input',{model:{value:(_vm.formValidate.express),callback:function ($$v) {_vm.$set(_vm.formValidate, \"express\", $$v)},expression:\"formValidate.express\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('div',{staticStyle:{\"visibility\":\"visible\"}},[_c('p',{staticClass:\"errRemind\"},[_vm._v(_vm._s(_vm.cabind_error))])]),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"150px\",\"margin-left\":\"60px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.bindCas('formValidates')}}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"border-top\":\"1px solid #e9eaec\"}},[_c('div',{staticStyle:{\"padding\":\"12px 18px 12px 18px\"}},[_vm._v(_vm._s(_vm.caL_errMsg))])])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.ind==3)?_c('div',[_c('div',{staticClass:\"congr\"},[_vm._v(\"恭喜您！密码设置成功，请重新登录！\")]),_vm._v(\" \"),_c('div',{staticClass:\"relogin\"},[_vm._v(\"系统将在\"),_c('span',{staticClass:\"textred\"},[_vm._v(_vm._s(_vm.fsecond))]),_c('span',[_vm._v(\"秒后自动调整至登录页面，您可以选择直接登陆\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"pull-right relot\",attrs:{\"to\":\"/login\"}},[_vm._v(\"返回登录\")])],1)]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"registerWrap w1198\"},[_c('p',{staticClass:\"errRemind\"},[_vm._v(_vm._s(_vm.errMsg))]),_vm._v(\" \"),(_vm.ind==1 || _vm.ind==2)?_c('Button',{staticClass:\"registerBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit(\"formValidate\")}}},[_vm._v(\"下一步\")]):_vm._e()],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-7a8ca68e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/sonBindCa/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a8ca68e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../NewPassword/NewPassword.scss\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a8ca68e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../Register/Register.scss\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a8ca68e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=2!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a8ca68e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a8ca68e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/sonBindCa/Index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}