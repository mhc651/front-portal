{"version":3,"sources":["webpack:///src/views/NewPassword/Index.vue","webpack:///./src/views/NewPassword/Index.vue?daf2","webpack:///./src/views/NewPassword/Index.vue"],"names":["Index","name","components","inputItem","complexInputItem","data","_this","this","ind","fsecond","ftimer","fsd","clientHeight","src","disabledBtn","time","timer","err","errMsg","reviewUrl","formValidate","cardNo","phone","phoneCode","password","confirmPwd","username","orgname","realname","mobile","verification","ruleValidate","required","message","trigger","validator","validate","validateIdCard","type","min","max","rule","value","callback","Error","computed","extends_default","Object","vuex_esm","methods","mathRandow","s","i","substr","Math","floor","random","join","getNumCode","clearInterval","setInterval","bind","getPhoneCode","types","then","res","success","fiveCountd","$router","push","handleSubmit","_this2","$refs","valid","param","validUserName","console","log","document","getElementById","setAttribute","content","errmsg","_param","validMessFp","removeAttribute","_param2","userpwd","userpwd2","resetpwd","setHeight","documentElement","fheight","getElementsByTagName","mounted","that","window","onresize","NewPassword_Index","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","ref","model","rules","label-width","classNow","class","_v","_e","labelVal","label","prop","plh","_s","placeholder","$$v","$set","expression","directives","rawName","disabled","on","click","tip","inputType","to","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.6ea25071d7d2f4e00826.js","sourcesContent":["<template>\n<div class=\"container--fluid\">\n    <div class=\"main\" id=\"fpw\">\n      <!-- 表单 -->\n       <Form ref='formValidate' :model='formValidate' :rules='ruleValidate' :label-width='245'>\n         <table class=\"ititle\">\n           <thead>\n            <th  class=\"nowC comC\" :class=\"classNow\" v-if=\"ind==0? classNow='nowC': classNow='passC'\"><div>1</div><span>填写账户名</span></th>\n             <th  class=\"defaultC comC\" id=\"twoth\"><div>2</div><span>验证身份</span></th>\n            <!--<th  class=\"nowC comC\" :class=\"classNow\" v-if=\"ind==1? classNow='nowC': classNow='passC'\"><div>1</div><span>选择账户类型</span></th>-->\n             <th  class=\"defaultC comC\" id=\"threeth\"  ><div>3</div><span>设置新密码</span></th>\n             <th  class=\"defaultC comC\"   id=\"four\"><div>4</div><span>重置成功</span></th>\n           </thead>\n         </table>\n       <div class=\"mt60\">\n         <div v-if=\"ind==0\">\n           <inputItem\n             :labelVal='{label:\"账号\"}'\n             :model='formValidate'\n             prop='username'\n             ref='username'\n             plh=\" 请输入登录账号\"\n           />\n         </div>\n         <div v-if=\"ind==1\">\n\n           <div class='verificationCode publicInput'>\n             <FormItem label='用户名：' prop='username' class='formItem'>\n               <label class='rightTip text-center lh40'>{{formValidate.username}}</label>\n             </FormItem>\n           </div>\n           <div class='verificationCode publicInput'>\n             <FormItem label='企业名称：' prop='orgname' class='formItem'>\n               <label class='rightTip text-center lh40'>{{formValidate.orgname}}</label>\n             </FormItem>\n           </div>\n           <div class='verificationCode publicInput'>\n             <FormItem label='已验证手机：' prop='mobile' class='formItem'>\n               <label class='rightTip text-center lh40'>{{formValidate.mobile}}</label>\n             </FormItem>\n           </div>\n\n\n          <!-- 手机验证码 -->\n          <div class='verificationCode publicInput'>\n            <FormItem label='验证码：' prop='phoneCode' class='formItem'>\n              <div class='NumCode'>\n                <Input type='text' v-model='formValidate.phoneCode' placeholder=\"请输入验证码\"/>\n                <Button disabled v-show='disabledBtn'>{{time}}s后可重新获取</Button>\n                <Button @click='getNumCode' v-show='!disabledBtn'>获取验证码</Button>\n              </div>\n              <label class='rightTip text-center'>请于2分钟内查收手机短信，并填写短信中的验证码</label>\n            </FormItem>\n          </div>\n          <!-- 手机验证码 end-->\n\n           <div class='verificationCode publicInput'>\n             <FormItem  class='formItem'>\n               <i class=\" icon hx hx-hx_quangantanhao fzth\"></i>\n               <!--<lable class='rightTip text-center lh40'>没收到短信验证码</lable>-->\n               <div class=\"ml210\">没收到短信验证码</div>\n               <div class=\"ml210\">1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。</div>\n               <div class=\"ml210\">2、请核实手机是否已欠费停机，或者屏蔽了系统短信。</div>\n             </FormItem>\n           </div>\n\n         </div>\n          <!-- passwork -->\n         <div v-if=\"ind==2\">\n\n           <div class='verificationCode publicInput'>\n             <FormItem label='用户名：' prop='username' class='formItem'>\n               <label class='rightTip text-center lh40'>{{formValidate.username}}</label>\n             </FormItem>\n           </div>\n           <div class='verificationCode publicInput'>\n             <FormItem label='企业名称：' prop='orgname' class='formItem'>\n               <label class='rightTip text-center lh40'>{{formValidate.orgname}}</label>\n             </FormItem>\n           </div>\n           <div class='verificationCode publicInput'>\n             <FormItem label='已验证手机：' prop='mobile' class='formItem'>\n               <label class='rightTip text-center lh40'>{{formValidate.mobile}}</label>\n             </FormItem>\n           </div>\n            <inputItem\n              :labelVal='{label:\"输入新密码\",tip:\"密码为6-20位英文字母、数字的组合\"}'\n              :model='formValidate'\n              prop='password'\n              inputType='password'\n            />\n            <inputItem\n              :labelVal='{label:\"确认新密码\",tip:\"请确保两次密码输入保持一致\"}'\n              :model='formValidate'\n              prop='confirmPwd'\n              inputType='password'\n            />\n         </div>\n          <!-- passwork end-->\n         <div v-if=\"ind==3\">\n           <div class=\"congr\">恭喜您！密码设置成功，请重新登录！</div>\n           <div class=\"relogin\">系统将在<span class=\"textred\">{{fsecond}}</span><span>秒后自动调整至登录页面，您可以选择直接登陆</span> <router-link class=\"pull-right relot\" to=\"/login\">返回登录</router-link></div>\n\n         </div>\n        </div>\n      </Form>\n      <!-- 表单 end-->\n      <!-- sub -->\n      <div class=\"registerWrap w1198\">\n      <!-- tip -->\n      <p class='errRemind'>{{errMsg}}</p>\n      <!-- tip end-->\n       <Button v-if=\"ind==0 || ind==1 || ind==2\" type='primary' class='registerBtn' @click='handleSubmit(\"formValidate\")'>下一步</Button>\n      </div>\n      <!-- sub end-->\n    </div>\n\n</div>\n</template>\n\n<script>\n// import Steps from \"../../components/NewPasswordSteps\";\n\nimport { mapActions, mapState } from 'vuex'\nimport inputItem from '../../components/complexInputItem'\nimport validatejs from '../../assets/js/validate'\n\nexport default {\n  name: 'NewPassword',\n  components: {\n    inputItem\n    // Steps\n  },\n  data: function() {\n    /*\n    *  确认密码验证\n    * */\n    const validatePassCheck = (rule, value, callback) => {\n      if (value !== this.formValidate.password) {\n        callback(new Error('密码和确认密码输入不一致'))\n      } else {\n        callback()\n      }\n    }\n\n    return {\n      ind: 0,\n      fsecond: 5,\n      ftimer: null,\n      fsd: true,\n      clientHeight: '500',\n      src: '',\n      disabledBtn: false,\n      time: 180,\n      timer: null,\n      err: false,\n      errMsg: '',\n      reviewUrl: '', // 存放预览图片\n      formValidate: {\n        cardNo: '',\n        phone: '',\n        phoneCode: '',\n        password: '',\n        confirmPwd: '',\n        username: '',\n        orgname: '',\n        realname: '',\n        mobile: '',\n        verification: ''\n      },\n      ruleValidate: {\n        cardNo: [\n          { required: true, message: '身份证号码不能为空', trigger: 'blur' },\n          { validator: validatejs.validateIdCard, trigger: 'blur' }\n        ],\n        username: [\n          { required: true, message: '账号不能为空', trigger: 'blur' },\n        ],\n        phoneCode: [\n          { required: true, message: '验证码不能为空', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '密码不能为空', trigger: 'blur' },\n          {\n            type: 'string',\n            min: 6,\n            message: '密码为6-20位英文字母、数字的组合',\n            trigger: 'blur'\n          },\n          {\n            type: 'string',\n            max: 20,\n            message: '密码为6-20位英文字母、数字的组合',\n            trigger: 'blur'\n          }\n        ],\n        confirmPwd: [\n          { required: true, message: '确认密码不能为空', trigger: 'blur' },\n          { validator: validatePassCheck, trigger: 'blur' }\n        ]\n      }\n    }\n  },\n\n  computed: {\n    ...mapState(['app', 'qcode']),\n  },\n\n  methods: {\n    ...mapActions(['getPhoneCode', 'getqcode', 'resetpwd', 'validatePhonefp', 'validMessFp', 'validUserName']),\n    mathRandow() {\n      var s = [];\n      var hexDigits = \"0123456789abcdef\";\n      for (var i = 0; i < 36; i++) {\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n      }\n      s[14] = \"4\";\n      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n      s[8] = s[13] = s[18] = s[23] = \"-\";\n      var uuid = s.join(\"\");\n      return uuid;\n    },\n    /*\n    * 倒计时\n    * */\n    getNumCode: function() {\n      let phoneReg = /(^1[3|4|5|7|8]\\d{9}$)|(^09\\d{8}$)/\n      //if (phoneReg.test(this.formValidate.phone)) {\n      this.disabledBtn = !this.disabledBtn\n      this.time = 120\n      clearInterval(this.timer)\n      this.timer = null\n      if (this.disabledBtn) {\n        this.timer = setInterval(\n          function() {\n            this.time--\n            if (this.time === 0) {\n              this.disabledBtn = !this.disabledBtn\n              this.time = 120\n              clearInterval(this.timer)\n            }\n          }.bind(this),\n          1000\n        )\n      }\n      // 获得验证码\n      this.getPhoneCode({\n        username: this.formValidate.username,\n        types: 'forgetPwd'\n      }).then(res => {\n        if (res.success) {\n          // this.formValidate.uuid = res.content.uuid;\n        }\n      })\n\n    },\n    fiveCountd: function(){\n      this.fsecond = 5\n      clearInterval(this.ftimer)\n      this.ftimer = null\n      if(this.fsd){\n        this.ftimer = setInterval(function(){\n          this.fsecond--\n          if(this.fsecond==0){\n            clearInterval(this.ftimer);\n            this.$router.push('/login')\n          }\n        }.bind(this),1000)\n      }\n\n    },\n\n    /*\n    * 注册提交\n    * */\n    handleSubmit: function(name) {\n      this.$refs[name].validate(valid => {\n        // 判断是否通过本地验证\n        if (!valid) return\n        if(this.ind==0){/*第一步提交*/\n          let param = {\n            username: this.formValidate.username,\n          }\n\n          this.validUserName(param).then(\n            res => {\n              console.log(\"res is\" +res)\n              if (res.success) {\n                // 成功提醒\n                this.ind=1\n                document.getElementById(\"twoth\").setAttribute(\"class\",\"comC nowC\");\n                this.errMsg = ''\n                this.formValidate.realname = res.content.realname\n                this.formValidate.mobile = res.content.mobile\n                this.formValidate.orgname = res.content.orgname\n              }\n            },err => {\n              this.errMsg = err.errmsg\n              console.log(\"err is \"+err)\n            }\n\n          )\n        }\n        else if(this.ind==1){/*第2步提交*/\n          let param = {\n            username: this.formValidate.username,\n            realname: this.formValidate.realname,\n            orgname: this.formValidate.orgname,\n            mobile: this.formValidate.mobile,\n            verification: this.formValidate.phoneCode\n          }\n\n          this.validMessFp(param).then(\n            res => {\n              if (res.success) {\n                // 成功提醒\n                this.ind=2\n                document.getElementById(\"twoth\").removeAttribute(\"class\",\"nowC\");\n                document.getElementById(\"twoth\").setAttribute(\"class\",\"comC passC\");\n                document.getElementById(\"threeth\").setAttribute(\"class\",\"comC nowC\");\n                this.errMsg = ''\n              }\n            },\n            err => {\n                this.errMsg = err.errmsg\n                console.log(\"校验短信err is \"+err)\n            }\n          )\n\n        }else if(this.ind==2){\n          let param = {\n            username: this.formValidate.username,\n            userpwd: this.formValidate.password,\n            userpwd2: this.formValidate.confirmPwd // 请在之前调用发送短信验证码的接口向用户发送短信验证码,\n          }\n          //document.getElementById(\"twoth\").setAttribute(\"class\",\"comC passC\");\n          document.getElementById(\"threeth\").setAttribute (\"class\",\"comC passC\");\n          document.getElementById(\"four\").setAttribute (\"class\",\"comC nowC\");\n          this.resetpwd(param).then(res => {\n            if (res.success) {\n              this.ind = 3\n              this.fiveCountd()\n              document.getElementById(\"threeth\").setAttribute (\"class\",\"comC passC\");\n              document.getElementById(\"four\").setAttribute (\"class\",\"comC nowC\");\n              // 成功提醒\n              this.errMsg = ''\n            } else {\n              // 失败提醒\n              this.errMsg = res.errmsg\n            }\n          })\n        }\n      })\n    },\n    /*\n    * 高度设置\n    * */\n    setHeight: function () {\n      let clih = document.documentElement.clientHeight;\n      if(clih<=768){\n        this.clientHeight = '498px'\n      }else{\n        let fheight = document.getElementsByTagName(\"footer\")[0].clientHeight\n        console.log(\"footer height is: \"+fheight)\n        this.clientHeight = `${document.documentElement.clientHeight-fheight-91-30}px`;\n      }\n    }\n  },\n\n  mounted() {\n    this.setHeight()\n    const that = this\n    window.onresize = function temp() {\n      that.setHeight()\n    }\n  }\n}\n</script>\n<style lang=\"scss\" src=\"./NewPassword.scss\" type=\"text/css\"></style>\n<style lang=\"scss\" src=\"../Register/Register.scss\" type=\"text/css\"></style>\n<style lang=\"scss\" src=\"../../assets/iconfont/iconfont.css\" ></style>\n<style lang=\"scss\" scoped>\n.main{\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  margin: 0;\n}\n.verificationCode label.rightTip.lh40 {\n  line-height: 40px;\n}\n.fzth {\n  float: left;\n  font-size: 30px;\n  margin-left: 212px;\n}\n.ml210{margin-left: 245px;}\n.verificationCode label.rightTip{margin-left: 0}\n.mt60{margin: 60px auto}\n@media screen and (max-height: 768px) {\n  .ivu-form-item {\n    margin-bottom: 4px;\n  }\n  .ivu-form-item-error {\n    margin-bottom: 14px;\n  }\n  .mt60{margin: 20px auto 10px auto}\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/NewPassword/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container--fluid\"},[_c('div',{staticClass:\"main\",attrs:{\"id\":\"fpw\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":245}},[_c('table',{staticClass:\"ititle\"},[_c('thead',[(_vm.ind==0? _vm.classNow='nowC': _vm.classNow='passC')?_c('th',{staticClass:\"nowC comC\",class:_vm.classNow},[_c('div',[_vm._v(\"1\")]),_c('span',[_vm._v(\"填写账户名\")])]):_vm._e(),_vm._v(\" \"),_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"twoth\"}},[_c('div',[_vm._v(\"2\")]),_c('span',[_vm._v(\"验证身份\")])]),_vm._v(\" \"),_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"threeth\"}},[_c('div',[_vm._v(\"3\")]),_c('span',[_vm._v(\"设置新密码\")])]),_vm._v(\" \"),_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"four\"}},[_c('div',[_vm._v(\"4\")]),_c('span',[_vm._v(\"重置成功\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"mt60\"},[(_vm.ind==0)?_c('div',[_c('inputItem',{ref:\"username\",attrs:{\"labelVal\":{label:\"账号\"},\"model\":_vm.formValidate,\"prop\":\"username\",\"plh\":\" 请输入登录账号\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.ind==1)?_c('div',[_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"用户名：\",\"prop\":\"username\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.username))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"企业名称：\",\"prop\":\"orgname\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.orgname))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"已验证手机：\",\"prop\":\"mobile\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.mobile))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"验证码：\",\"prop\":\"phoneCode\"}},[_c('div',{staticClass:\"NumCode\"},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.formValidate.phoneCode),callback:function ($$v) {_vm.$set(_vm.formValidate, \"phoneCode\", $$v)},expression:\"formValidate.phoneCode\"}}),_vm._v(\" \"),_c('Button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.disabledBtn),expression:\"disabledBtn\"}],attrs:{\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.time)+\"s后可重新获取\")]),_vm._v(\" \"),_c('Button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabledBtn),expression:\"!disabledBtn\"}],on:{\"click\":_vm.getNumCode}},[_vm._v(\"获取验证码\")])],1),_vm._v(\" \"),_c('label',{staticClass:\"rightTip text-center\"},[_vm._v(\"请于2分钟内查收手机短信，并填写短信中的验证码\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\"},[_c('i',{staticClass:\" icon hx hx-hx_quangantanhao fzth\"}),_vm._v(\" \"),_c('div',{staticClass:\"ml210\"},[_vm._v(\"没收到短信验证码\")]),_vm._v(\" \"),_c('div',{staticClass:\"ml210\"},[_vm._v(\"1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。\")]),_vm._v(\" \"),_c('div',{staticClass:\"ml210\"},[_vm._v(\"2、请核实手机是否已欠费停机，或者屏蔽了系统短信。\")])])],1)]):_vm._e(),_vm._v(\" \"),(_vm.ind==2)?_c('div',[_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"用户名：\",\"prop\":\"username\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.username))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"企业名称：\",\"prop\":\"orgname\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.orgname))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"已验证手机：\",\"prop\":\"mobile\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.mobile))])])],1),_vm._v(\" \"),_c('inputItem',{attrs:{\"labelVal\":{label:\"输入新密码\",tip:\"密码为6-20位英文字母、数字的组合\"},\"model\":_vm.formValidate,\"prop\":\"password\",\"inputType\":\"password\"}}),_vm._v(\" \"),_c('inputItem',{attrs:{\"labelVal\":{label:\"确认新密码\",tip:\"请确保两次密码输入保持一致\"},\"model\":_vm.formValidate,\"prop\":\"confirmPwd\",\"inputType\":\"password\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.ind==3)?_c('div',[_c('div',{staticClass:\"congr\"},[_vm._v(\"恭喜您！密码设置成功，请重新登录！\")]),_vm._v(\" \"),_c('div',{staticClass:\"relogin\"},[_vm._v(\"系统将在\"),_c('span',{staticClass:\"textred\"},[_vm._v(_vm._s(_vm.fsecond))]),_c('span',[_vm._v(\"秒后自动调整至登录页面，您可以选择直接登陆\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"pull-right relot\",attrs:{\"to\":\"/login\"}},[_vm._v(\"返回登录\")])],1)]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"registerWrap w1198\"},[_c('p',{staticClass:\"errRemind\"},[_vm._v(_vm._s(_vm.errMsg))]),_vm._v(\" \"),(_vm.ind==0 || _vm.ind==1 || _vm.ind==2)?_c('Button',{staticClass:\"registerBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit(\"formValidate\")}}},[_vm._v(\"下一步\")]):_vm._e()],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-ca446e9e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/NewPassword/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca446e9e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./NewPassword.scss\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca446e9e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../Register/Register.scss\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca446e9e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../assets/iconfont/iconfont.css\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca446e9e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=3!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ca446e9e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ca446e9e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/NewPassword/Index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}